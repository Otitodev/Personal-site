---
import { formatDate } from '@lib/utils';

interface Props {
  title: string;
  description: string;
  publishDate: Date;
  heroImage?: string;
  tags: string[];
  slug: string;
}

const { title, description, publishDate, heroImage, tags, slug } = Astro.props;
---

<article class="group card-animated">
  <a href={`/blog/${slug}`} class="block">
    {heroImage && (
      <div class="mb-4 overflow-hidden rounded-lg">
        <img 
          src={heroImage} 
          alt={title}
          class="w-full h-48 object-cover transition-transform duration-300 group-hover:scale-105"
        />
      </div>
    )}
    
    <div class="space-y-3">
      <div class="flex items-center gap-3 text-sm text-grey-500">
        <time datetime={publishDate.toISOString()}>
          {formatDate(publishDate)}
        </time>
        
        {tags.length > 0 && (
          <>
            <span>•</span>
            <div class="flex gap-2">
              {tags.slice(0, 3).map((tag) => (
                <span class="text-xs">#{tag}</span>
              ))}
              {tags.length > 3 && (
                <span class="text-xs">+{tags.length - 3} more</span>
              )}
            </div>
          </>
        )}
      </div>
      
      <h2 class="font-serif text-2xl font-bold text-grey-900 group-hover:text-blue-600 transition-colors md:text-3xl">
        {title}
      </h2>
      
      <p class="text-grey-600 leading-relaxed">
        {description}
      </p>
      
      <div class="pt-2">
        <span class="text-sm text-blue-600 group-hover:underline">
          Read more →
        </span>
      </div>
    </div>
  </a>
</article>